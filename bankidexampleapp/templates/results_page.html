<!-- extend from base layout -->
{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-sm-12">
        <h1>BankID signing results</h1>
    </div>
</div>

<div class="row">
{% if results.progressStatus == "COMPLETE" %}
    <div class="col-sm-12">
        <p>
            <strong>Orderreferens: </strong>{{ results.orderRef }}
        </p>
    </div>
    <div class="col-sm-12">
        <p>
            <strong>Progress Status: </strong>{{ results.progressStatus }}
        </p>
    </div>
    <div class="col-sm-12">
        <p>
            <strong>OCSP-svar:</strong>
            <div class="row">
                <div class="col-sm-12">
                    <textarea class="form-control" rows=8>{{ results.ocspResponse }}</textarea>
                </div>
            </div>
        </p>
    </div>
    <div class="col-sm-12">
        <p>
            <strong>Signatur:</strong>
            <div class="row">
                <div class="col-sm-12">
                    <textarea class="form-control" rows=8>{{ results.signature }}</textarea>
                </div>
            </div>
        </p>
    </div>
    <div class="col-sm-12">
        <p>
            <strong>Användarinfo:</strong>
            <ul>
                <li>
                    <strong>Namn: </strong>{{ results.userInfo.name }}
                </li>
                <li>
                    <strong>Förnamn: </strong>{{ results.userInfo.givenName }}
                </li>
                <li>
                    <strong>Efternamn: </strong>{{ results.userInfo.surname }}
                </li>
                <li>
                    <strong>Personnummer: </strong>{{ results.userInfo.personalNumber }}
                </li>
                <li>
                    <strong>BankID Giltig Från: </strong>{{ results.userInfo.notBefore|swedate }}
                </li>
                <li>
                    <strong>BankID Giltig Till: </strong>{{ results.userInfo.notAfter|swedate }}
                </li>
                <li>
                    <strong>IP-adress för klienten: </strong>{{ results.userInfo.ipAddress }}
                </li>
            </ul>
        </p>
    </div>

{% else %}
    <div class="col-sm-12">
        <p>
            <strong>Orderreferens: </strong>{{ results.orderRef }}
        </p>
    </div>
    <div class="col-sm-12">
        <p>
            <strong>Progress Status: </strong>{{ results.progressStatus|safe }}
        </p>
    </div>
    <div class="col-sm-12">
        <p>
            <strong>Felkod: </strong>{{ results.errorType }}
        </p>
    </div>
    <div class="col-sm-12">
        <p>
            <strong>Felinformation: </strong>{{ results.errorText }}
        </p>
    </div>
{% endif %}

</div>
{% endblock %}
